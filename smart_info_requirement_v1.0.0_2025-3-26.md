# 一、软件需求文档

## 1. 产品定位

打造一款面向科技研究人员、行业分析师、技术爱好者的智能资讯分析与知识管理工具，专注于前沿技术、学术动态、市场发展等领域。该应用运行于 Windows 桌面环境，单机模式，通过调用云端大模型 API 实现资讯智能分析与总结，并构建本地知识库支持高效问答服务。

## 2. 功能需求

### 2.1 资讯获取模块

- 支持配置多个主流资讯源（RSS 源、权威网站、学术数据库接口）。
- 可自定义资讯抓取频率（自动或手动）。
- 支持用户设定资讯关注领域（如 AI、医疗、金融、前沿科技等），精准过滤。

### 2.2 智能分析与总结模块（云端大模型 API）

- 接入大模型 API 进行资讯分析与摘要生成。
- 提供一键式分析操作，自动对抓取的资讯内容生成简明扼要的摘要和洞察。
- 提供定制化参数接口（如分析深度、摘要长度等）。

### 2.3 本地知识库模块（SQLite+ChromaDB）

- SQLite 数据库保存结构化资讯元数据（日期、来源、领域、标题、链接、摘要）。
- ChromaDB 用于存储资讯内容嵌入（embeddings），支持语义检索。
- 提供知识库管理界面（查看、删除、编辑资讯）。

### 2.4 智能问答模块（语义检索与对话）

- 基于 ChromaDB 知识库实现语义搜索。
- 用户可输入问题，通过知识库语义搜索结合大模型生成高质量答案。
- 支持对话式交互，提供连续上下文的问答体验。

### 2.5 用户交互界面

- 界面简洁直观，导航清晰，易操作。
- 支持信息搜索、筛选与导出（如 Excel、CSV、Markdown）。

### 2.6 系统设置模块

- 提供 API 密钥配置管理。
- 提供资讯源与领域配置管理。

## 3. 非功能需求

### 3.1 兼容性

- Windows 10/11 兼容。
- 支持主流屏幕分辨率适配（1920\*1080 及以上）。

### 3.2 安全性

- API 密钥本地加密存储。
- 数据库访问权限严格管理，防止数据泄露。

### 3.3 可维护性

- 模块化开发，代码易读性高。
- 代码注释完整，文档清晰规范。

# 二、技术方案

## 1. 技术架构选型

- **开发语言及平台**
  - Python 3.9+
  - 桌面框架：PyQt
- **数据库技术**
  - SQLite：资讯元数据的结构化存储
  - ChromaDB：内容语义嵌入向量存储，支持高效语义搜索
- **资讯抓取**
  - Python Requests、Feedparser、BeautifulSoup 进行资讯获取和网页爬取
- **资讯分析与摘要**
  - 云端大模型 API（DeepSeek）
- **嵌入（Embedding）模型**
  - Sentence-Transformers
- **数据加密存储**
  - Python Cryptography 库实现 API 密钥等敏感数据的本地加密
- **打包发布工具**
  - PyInstaller 将 Python 应用打包为 Windows 单机可执行程序（EXE）

## 2. 模块技术方案

### 2.1 资讯获取模块

- 使用 RSS/Atom 解析库（如 Feedparser）订阅资讯源
- 配合 Requests 库抓取其他非 RSS 资讯网站内容（BeautifulSoup 解析 HTML 结构）
- 数据入库前进行基本去重处理，保存到 SQLite 数据库

### 2.2 智能分析与总结模块

- 使用大模型 API 接口封装为独立服务类，输入资讯全文内容，输出内容摘要与分析结果
- 支持 API 调用失败的异常处理机制，提供友好的错误提示和重试机制

### 2.3 知识库模块

- SQLite 存储结构化元数据，字段设计示例：
  - 资讯 ID、标题、时间戳、来源、URL、领域、摘要
- ChromaDB 存储内容的嵌入向量，支持高效语义相似度检索

### 2.4 智能问答模块

- 用户问题输入后先使用 Embedding 模型计算语义向量
- ChromaDB 进行知识库的语义相似检索，提取相关资讯内容
- 提取相关内容后再次调用大模型 API，以“相关内容+用户问题”形式调用，生成精准回答

### 2.5 用户界面模块

- 使用 PyQt/PySide 框架构建，分为：
  - 资讯管理页（抓取、查看、删除、编辑）
  - 智能分析页（资讯摘要、分析操作）
  - 智能问答页（问答交互）
  - 系统设置页（领域、资讯源、API 密钥管理）

## 3. 部署方案

- 使用 PyInstaller 工具将整个应用打包为单一 Windows EXE 程序。
- 提供本地 SQLite 与 ChromaDB 数据库文件存储到固定路径，以便数据备份与迁移。
